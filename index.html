<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gibberish Alarm Timer</title>
  <style>
    body {
      background: #111;
      color: #0f0;
      font-family: monospace;
      text-align: center;
      padding-top: 80px;
    }
    input, button {
      font-size: 1.2em;
      padding: 8px 15px;
      margin: 10px;
    }
    #countdown {
      font-size: 2em;
      margin: 20px 0;
    }
    #log {
      white-space: pre-line;
      margin-top: 20px;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <h1>ðŸ•’ Gibberish Timer Alarm</h1>

  <label>Start after (seconds): </label>
  <input type="number" id="timeInput" min="1" placeholder="e.g. 10">
  <button onclick="startTimer()">Start Timer</button>

  <div id="countdown"></div>
  <div id="log"></div>

  <script>
    let countdown;
    let isSpeaking = false;

    function generateGibberishWord() {
      const consonants = ["b", "d", "g", "k", "l", "m", "n", "p", "r", "s", "t", "v", "z", "f"];
      const vowels = ["a", "e", "i", "o", "u"];
      let word = "";
      const syllables = Math.floor(Math.random() * 2) + 1;

      for (let i = 0; i < syllables; i++) {
        word += consonants[Math.floor(Math.random() * consonants.length)];
        word += vowels[Math.floor(Math.random() * vowels.length)];
        if (Math.random() > 0.5) {
          word += consonants[Math.floor(Math.random() * consonants.length)];
        }
      }

      return word;
    }

    function generatePunctuation() {
      const marks = ["", ".", "!", "?", "...", "!?"];
      return marks[Math.floor(Math.random() * marks.length)];
    }

    function generateSentence() {
      const length = Math.floor(Math.random() * 7) + 3; // 3â€“9 words
      const words = [];
      for (let i = 0; i < length; i++) {
        words.push(generateGibberishWord());
      }
      return words.join(" ") + generatePunctuation();
    }

    function speakLoop() {
      if (!isSpeaking) return;

      const sentence = generateSentence();
      const utter = new SpeechSynthesisUtterance(sentence);
      utter.lang = "en-US";
      utter.pitch = 1;
      utter.rate = 1.6 + Math.random() * 0.5;

      // Display on screen
      const log = document.getElementById("log");
      log.textContent += sentence + "\n";
      if (log.textContent.split("\n").length > 20) {
        log.textContent = log.textContent.split("\n").slice(-20).join("\n");
      }

      speechSynthesis.speak(utter);

      utter.onend = () => {
        if (isSpeaking) {
          setTimeout(speakLoop, Math.random() * 400 + 300);
        }
      };
    }

    function startTimer() {
      const input = document.getElementById("timeInput");
      let seconds = parseInt(input.value);
      const countdownDiv = document.getElementById("countdown");

      if (isNaN(seconds) || seconds <= 0) {
        alert("Enter a valid number of seconds.");
        return;
      }

      countdownDiv.textContent = `Starting in ${seconds}...`;

      countdown = setInterval(() => {
        seconds--;
        if (seconds > 0) {
          countdownDiv.textContent = `Starting in ${seconds}...`;
        } else {
          clearInterval(countdown);
          countdownDiv.textContent = "ðŸ”Š Gibberish activated!";
          isSpeaking = true;
          speakLoop();
        }
      }, 1000);
    }
  </script>
</body>
</html>
